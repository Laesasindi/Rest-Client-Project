<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Unsplash Gallery</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="Js/unsplash.js"></script>
</head>
<body>
    <div class="container">
         
        <div class="header-wrapper">
            <header class="header-left">
                <h1>Meo MEo</h1>
                <p>Awesome Art</p>
            </header>

            <div class="features-right">
                <div class="features-grid">
                    <div class="feature-item" id="homeBtn">
                        <span class="feature-icon">üè†</span>
                        <span class="feature-name">Home</span>
                    </div>
                    <div class="feature-item" id="trendingBtn">
                        <span class="feature-icon">üî•</span>
                        <span class="feature-name">Trending</span>
                    </div>
                    <div class="feature-item" id="searchBtn">
                        <span class="feature-icon">üîç</span>
                        <span class="feature-name">Search</span>
                    </div>
                    <div class="feature-item" id="languageBtn">
                        <span class="feature-name">Language</span>
                    </div>
                </div>
            </div>
        </div>
        <hr class="divider">

        <div id="loading" class="loading">Memuat gambar...</div>
        <div id="error" class="error" style="display: none;"></div>
        <div id="gallery" class="gallery"></div>
        
        <div class="load-more-container">
            <button id="loadMoreBtn" class="load-more-btn" style="display: none;">
                Muat Lebih Banyak Gambar
            </button>
        </div>
    </div>

    <script>
        let isLoading = false;

        // Fungsi untuk menampilkan gambar
        async function displayPhotos() {
            if (isLoading) return;
            
            const loadingEl = document.getElementById('loading');
            const errorEl = document.getElementById('error');
            const galleryEl = document.getElementById('gallery');
            const loadMoreBtn = document.getElementById('loadMoreBtn');

            isLoading = true;
            loadMoreBtn.disabled = true;
            loadMoreBtn.textContent = 'Memuat...';

            try {
                // Memanggil fungsi dari unsplash.js
                const photos = await getRandomPhotos();
                
                // Sembunyikan loading pertama kali
                loadingEl.style.display = 'none';
                
                // Tampilkan tombol load more
                loadMoreBtn.style.display = 'block';
                loadMoreBtn.disabled = false;
                loadMoreBtn.textContent = 'Muat Lebih Banyak Gambar';

                // Tampilkan setiap foto
                photos.forEach(photo => {
                    const photoCard = document.createElement('div');
                    photoCard.className = 'photo-card';
                    
                    photoCard.innerHTML = `
                        <img src="${photo.urls.small}" alt="${photo.alt_description || 'Unsplash Photo'}">
                        <div class="photo-info">
                            <div class="author">üì∑ ${photo.user.name}</div>
                            <div class="description">${photo.alt_description || 'Beautiful photo from Unsplash'}</div>
                        </div>
                    `;
                    
                    // Tambahkan event click untuk membuka foto di tab baru
                    photoCard.addEventListener('click', () => {
                        window.open(photo.links.html, '_blank');
                    });
                    
                    galleryEl.appendChild(photoCard);
                });

            } catch (error) {
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                errorEl.textContent = '‚ùå Gagal memuat gambar: ' + error.message;
                console.error('Error:', error);
                loadMoreBtn.disabled = false;
                loadMoreBtn.textContent = 'Coba Lagi';
            }
            
            isLoading = false;
        }

        // Event listener untuk tombol load more
        document.getElementById('loadMoreBtn').addEventListener('click', displayPhotos);

        // KODE BARU: Event listener untuk tombol navigasi
        document.getElementById('homeBtn').addEventListener('click', () => {
            // Reload halaman atau scroll ke atas
            window.scrollTo({ top: 0, behavior: 'smooth' });
            location.reload();
        });

        document.getElementById('trendingBtn').addEventListener('click', () => {
            alert('Fitur Trending akan segera hadir! üî•');
            // TODO: Implementasi trending photos
        });

        document.getElementById('searchBtn').addEventListener('click', () => {
            alert('Fitur Search akan segera hadir! üîç');
            // TODO: Implementasi search functionality
        });

         document.getElementById('languageBtn').addEventListener('click', () => {
            alert('Fitur Language akan segera hadir! ');
            // TODO: Implementasi search functionality
        });

        // Jalankan saat halaman dimuat
        displayPhotos();
    </script>
</body>
</html>
